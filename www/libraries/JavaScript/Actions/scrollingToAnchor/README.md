# Scrolling to Anchor #

Данное решение позволяет выполняет плавную прокрутку страницы до якоря, при клике по ссылке.


## Где применяется? ##

Решение может применяться в ситуациях, когда необходимо реализовать плавность перехода к якорю, при клике по ссылке. Вот некоторые из таких ситуаций:

* На одностраничных сайтах в главном меню. При клике по пункту меню, страница прокручивается до якоря, указанного в значении атрибута "href" ссылки пункта меню;
* На страницах помощи или любой другой документации, для навигации по пунктам списка содержания;


## Отслеживаемые события ##

Отслеживаются и перехвачиваются следующие события:

1) "touchend" - Татч по ссылке;

2) "onclick" - Клик по ссылке:


## Параметры и Опции ##

В качестве первого аргумента, функции прокрутки передается объект события (event). Этот аргумент ОБЯЗАТЕЛЬНЫЙ!

В качестве второго агрумента в функцию передается пользовательская функция обратного вызова (callback). Эта функция исполняется по окончанию анимации. Этот аргумент НЕ ОБЯЗАТЕЛЬНЫЙ!


## Пример использования ##

### Для кроссбраузерного применения в современных браузерах (IE 9 и позднее) ###
#### Вариант 1. Подключение внешних файлов ####

Подключитие файл скрипта "scrollingToAnchor.js" (или "scrollingToAnchor.min.js") в секцию HEAD html-страницы:

```html
<script defer type='text/javascript' src='/path/to/scrollingToAnchor.js'></script>
```

Далее можно назначить обработчик события клика по ссылке в любом месте исполняемого JS-скрипта. Например, так:

```js
// Получение ссылки на пункты главного меню и установка обработчика события клика по пункту главного меню
$_mainMenu.querySelector('ul').onclick = function(event){
    scrollingToAnchor(event, function(){
        // Сворачивание панели навигации, если она развернута
        if ( slideNavPannel.enable == true ) slideNavPannel.hide();            
    });
}
```

Важно подключить JS-файл решения "прокрутки страницы (scrollingToAnchor.js)" перед подключением исполняемого JS-скрипта. Также необходимо установить атрибут "defer" при подключении скриптов решения и исполняемого JS-скрипта, чтобы соблюсти очередность загружаемых файлов.


#### Вариант 2. Вставка блока кода непосредственно в исполняемый JS-файл ####

Вставьте последовательно блок кода файла "scrollingToAnchor.js" в исполняемый JS-скрипт.

```html
<script type='text/javascript'>
    /* ============================================== *
     * ==== Решение "Плавная прогрутка до якоря" ==== *
     * ============================================== */
    function scrollingToAnchor(e,c=null){var a=e.target.getAttribute('href'),b=document.getElementById(a.match(/[^#].*/)).offsetTop,d=75,e=setInterval(function(){var f=window.pageYOffset,g=(b-f),j=(Math.abs(g)!=2)?g/3:g;if(g==0){clearInterval(e);if(c){c();}}else{window.scrollBy(0,j);}},1000/d);e.preventDefault();};
    /* ============================================== */
</script>
```

Далее можно назначить обработчик события клика по ссылке в любом месте исполняемого JS-скрипта. Например, так:

```js
// Получение ссылки на пункты главного меню и установка обработчика события клика по пункту главного меню
$_mainMenu.querySelector('ul').onclick = function(event){
    scrollingToAnchor(event, function(){
        // Сворачивание панели навигации, если она развернута
        if ( slideNavPannel.enable == true ) slideNavPannel.hide();            
    });
}
```


## Поддержка браузеров ##

На данный момент решение адекватно работает во всех современных браузерах, включая IE9+


## Перечень файлов в пакете решения ##

В папке "standart" находятся версии поддерживающие все современные браузеры начиная c IE 9 и позднее.

* scrollingToAnchor.min.js - минимизированная версия скрипта (удалены переносы строк и комментарии);
* scrollingToAnchor.js - полная версия скрипта с подробными комментариями.


## Демо-версии ##

Этот раздел пока не заполнен