"use strict";
/**
 * Класс "Аккордеон"
 * @author Ildar Ibragimov <iibragimov84@gmail.com>
 * @copyright Ildar Ibragimov 2016
 */
function accordion(g){function e(c){var d,a,b;for(b=0;b<c.length;b++)a=getComputedStyle(c[b]),d=parent(c[b],".accordion__section-content"),d.dataset.blockHeight=c[b].offsetHeight+parseFloat(a.marginTop)+parseFloat(a.marginBottom)}var h=this;this.toggle=function(c,d){var a=parent(c,".accordion__section");if(a){d=d||null;var b=a.classList.contains("accordion__section_open")?!1:!0,f=a.querySelector(".accordion__section-content"),e="0px"!=getComputedStyle(f).height?"":f.dataset.blockHeight+"px";getComputedStyle(f).height!=e&&(f.style.height=e);a.classList.toggle("accordion__section_open",b);d&&d()}};(function(c){var d=c.getElementsByClassName("accordion__section-content-wrapper");e(d);c.addEventListener("click",function(a){a.preventDefault();(a.target.classList.contains("link")||parent(a.target,".link"))&&h.toggle(a.target)});c.addEventListener("transitionend",function(a){if("height"==a.propertyName&&parent(a.target,".accordion__section_open")){e(d);var b=a.target;a=a.target.dataset.blockHeight+"px";getComputedStyle(b).height!=
a&&(b.style.height=a)}})})(g)};